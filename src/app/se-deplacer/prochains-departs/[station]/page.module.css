:root{
  --page-bg: #f6f6f6;
  --green: #0b7d48; /* action/primary */
  --text-green: #1e2a20; /* titre/texte foncé vert */
  --timeline-yellow: #d4d937; /* jaune timeline proche maquette */
  --yellow: #f5d76a; /* ancien, conservé pour desktop */
  --time-col: 72px;
  --tl-col: 28px;
  --grid-gap: 12px;
  --row-pad: 8px; /* padding vertical de chaque stopRow (desktop) */
  --dot-margin: 6px; /* marge top appliquée à .dot */
  --dot-size: 10px; /* taille des pastilles (desktop) */
}

:global(body) {
  background: var(--page-bg);
}

.pageContainer{
  max-width: 1100px;
  margin: 32px auto;
  padding: 0 16px 80px;
  background: transparent;
}

.headerRow{ display:flex; justify-content:space-between; align-items:flex-start; gap:16px; }
.pageTitle{ font-size:22px; margin:0 0 6px; }
.stationName{ color:#333; margin-bottom:8px; }
.actionsTop{ display:flex; gap:12px; align-items:center; }
.linkBtn{ background:transparent; border:none; color:var(--green); cursor:pointer; }

.modeTabs{ margin-top:12px; }
.modeTab{ padding:8px 14px; border-radius:999px; background:#eee; border:none; margin-right:8px; cursor:pointer; font-weight:700; }
.modeTabActive{ background:var(--green); color:#fff; }
.modeTabInactive{ background:#eee; color:#333; }

.tableCard{
  margin-top:14px;
  background:#fff;
  border-radius:8px;
  padding:0;
  box-shadow: 0 6px 24px rgba(0,0,0,0.06);
  overflow:hidden;
}

.tableHeaderRow{ display:grid; grid-template-columns:84px 1fr 240px 84px; gap:12px; align-items:center; padding:12px 18px; font-weight:700; color:#666; border-bottom: 2px solid var(--yellow); }
.tableRow{ display:grid; grid-template-columns:84px 1fr 240px 84px; gap:12px; align-items:center; padding:14px 18px; border-bottom:1px solid rgba(0,0,0,0.03); }
.colTime{ font-weight:700; color:#172b1f; }
.colFrom{ color:#172b1f; }
.colMode{ color:#172b1f; display:flex; align-items:center; gap:8px; }
.colPlatform{ text-align:center; }

/* info ribbon */
.infoRibbon{ background:#e9f7ff; padding:10px 18px; display:flex; align-items:center; gap:8px; color:#0b84d6; }

.dateDivider{
  display: block;
  padding: 14px 18px;
  font-weight: 700;
  color: #172b1f;
  border-top: 2px solid var(--yellow);
  background: transparent;
  position: relative;
}

.dateDivider::before{
  /* petit espace / trait secondaire sous le titre (visuel similaire à maquette) */
  content: '';
  display: block;
  height: 6px;
  background: rgba(245,215,106,0.08);
  position: absolute;
  left: 0;
  right: 0;
  top: 100%;
}

.noMoreToday{
  display:flex;
  align-items:center;
  gap:12px;
  padding: 12px 18px;
  margin: 6px 0 12px;
  border-radius: 6px;
  background: #0088ce1a;
  color: #000000;
  font-weight:700;
}

.rowWrapper{ display:block; }
.clickableRow{ cursor:pointer; transition: background .12s ease; }
.clickableRow:focus, .clickableRow:hover{ background: rgba(11,125,72,0.03); outline: none; }

/* Ajustements pour correspondre exactement à la maquette fournie */
.accordionContent{
  background: #eef5d4; /* vert très pâle comme sur la maquette */
  padding: 22px 28px 28px;
  border-bottom: 1px solid rgba(0,0,0,0.03);
}
.accordionHeader{ display:block; margin-bottom:18px; }
.accordionHeader h3{ margin:0 0 6px; font-size:22px; color:#1e2a20; }
.accordionSub{ color:#6b7a6f; font-size:13px; margin-left:2px; }

.stopsList{ display:flex; flex-direction:column; gap:0; position: relative; }
/* colonnes : heure | timeline | gare | voie */
.stopRow{ display:grid; grid-template-columns:var(--time-col) var(--tl-col) 1fr 60px; gap:var(--grid-gap); align-items:center; padding:8px 0; }
.stopTime{ /* centrer l’heure dans la colonne Départ */
  color:#1e2a20; font-weight:700; font-size:15px; display:flex; align-items:center; justify-content:center; position:relative;
}
.stopTime::before{ /* garder le petit cercle à gauche sans pousser le texte */
  position:absolute; left:8px; top:50%; transform: translateY(-50%);
  width:12px; height:12px; border-radius:50%; border:2px solid var(--green); background: transparent;
}
.stopRow:first-child .stopTime::before{ background: var(--green); box-shadow: 0 0 0 6px rgba(11,125,72,0.06); }

.timeline{ position: relative; width: 100%; height: 100%; padding: 0; margin: 0; }
.dot{
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  width: 10px;
  height: 10px;
  border-radius:50%;
  background: var(--timeline-yellow);
  box-shadow: 0 0 0 7px rgba(245,215,106,0.06);
  margin-top:6px; /* conserve l’espacement vertical visuel */
  z-index: 1;
}
/* ligne verticale continue (desktop) : 72px (heure) + 12px (gap) + 14px (moitié colonne timeline 28px) */
.stopsList::before{
  content: '';
  position: absolute;
  left: calc(var(--time-col) + var(--grid-gap) + (var(--tl-col) / 2));
  top: calc(var(--row-pad) + var(--dot-margin) + (var(--dot-size) / 2));
  bottom: calc(var(--row-pad) + var(--dot-margin) + (var(--dot-size) / 2));
  width: 3px;
  background: var(--timeline-yellow);
  opacity: 1;
  pointer-events: none;
  z-index: 0;
}

/* supprimer la ligne locale pour éviter double-/mauvais centrage */
.timeline::after{ display:none; }

.stopsHeader{
  position: relative;
  z-index: 2; /* au-dessus de la ligne verticale */
  display:grid;
  grid-template-columns:var(--time-col) var(--tl-col) 1fr 60px; /* desktop aligné */
  gap:var(--grid-gap);
  align-items:center;
  padding: 6px 10px;
  color:#1e2a20;
  background:#ffffff;
  border-radius:8px;
  margin: 8px 0 6px;
}
.stopHeadTime{ font-weight:700; }
.stopHeadName{ font-weight:700; }
.stopHeadPlatform{ text-align:center; font-weight:700; }

/* Styles pour affichage spécifique quand un horaire est en retard */
.timeOriginal {
  display: block;
  text-decoration: line-through;
  color: #6b6b6b; /* gris barré */
  font-weight: 700;
  font-size: 16px;
  line-height: 1;
}
.timeEstimated {
  display: block;
  color: #d32f2f; /* rouge d'alerte */
  font-weight: 800;
  font-size: 14px;
  margin-top: 6px;
}

/* Banner full-width under the row to show delay message */
.delayBanner {
  /* utiliser la couleur de la "ligne retardée" comme arrière-plan du bandeau */
  background: #fff4e6; /* couleur identique à l'ancienne ligne */
  padding: 12px 18px;
  display: flex;
  align-items: center;
  gap: 12px;
  color: #6b3b1a; /* texte brun/orange foncé */
  font-weight: 700;
  font-size: 16px;
}
.clockIcon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 34px;
  height: 34px;
  border-radius: 50%;
  background: #fff2e6;
  color: #ffb74d;
  box-shadow: 0 0 0 6px rgba(255,183,77,0.06);
}

/* petit chevron (triangle) matching the banner background */
.delayBanner:before{
  content: '';
  width: 0; height: 0;
  border-left: 8px solid transparent;
  border-right: 8px solid transparent;
  border-bottom: 8px solid #fff4e6;
  position: relative;
  top: -8px;
  left: 18px;
}

/* utility: style pour bord gauche orange sur la row (déjà utilisé) */
.rowDelayed { }

/* Styles pour le bloc d'information sous le nom de la gare (retard/cause) */
.stopInfo{
  margin-top:6px;
  padding-left: 6px; /* espace entre le nom de la gare et le bloc */
}
.stopInfoHeader{
  display:flex;
  align-items:flex-start; /* icône en haut, titre à droite */
  gap:10px;
}
.stopInfoIcon{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:34px;
  height:34px;
  border-radius:50%;
  background: #fff2e6; /* halo léger */
  color: #ffb74d; /* icône orange */
  box-shadow: 0 0 0 6px rgba(255,183,77,0.06);
  flex: 0 0 34px;
}
.stopInfoTitle{
  font-size:18px;
  color: #1e2a20;
  font-weight:700;
  line-height:1.0;
  margin-top:2px; /* pour aligner verticalement avec l'icône */
}
.stopInfoCause{
  margin-top:6px;
  color:#6b7a6f;
  font-size:14px;
}

@media (max-width:600px){
  .accordionContent{ padding: 18px 12px 16px; background: #e7f0c5; /* vert plus proche */ }
  .accordionHeader h3{ font-size:20px; color: var(--text-green); }
  .accordionSub{ font-size:12px; color:#5f6c61; }

  /* barre d’entête blanche arrondie comme sur la maquette */
  .stopsHeader{
    position: relative;
    z-index: 2;
    grid-template-columns:var(--time-col) var(--tl-col) 1fr 44px; /* mobile aligné */
    gap:var(--grid-gap);
    padding: 6px 10px;
    font-size:13px;
  }

  .stopRow{ grid-template-columns:var(--time-col) var(--tl-col) 1fr 44px; gap:var(--grid-gap); padding:6px 0; }

  .stopTime{ font-size:14px; justify-content:center; }
  .stopTime::before{ left:6px; width:10px; height:10px; }

  .stopName{ font-size:14px; color: var(--text-green); }
  .stopPlatform{ font-size:13px; color: var(--text-green); }

  /* carte / table */
  .tableCard{ margin-top:10px; }

  /* mobile: 64px (heure) + 10px (gap) + 10px (moitié colonne timeline 20px) */
  .stopsList::before{
    left: calc(var(--time-col) + var(--grid-gap) + (var(--tl-col) / 2));
    width: 2px;
  }

  :root{ --row-pad: 6px; --dot-size: 9px; --dot-margin: 4px; }
}

/* Styles pour horaire supprimé */
.rowCancelled { }
.cancelledText { text-decoration: line-through; color: #b71c1c; font-weight:800; }
.cancelBanner { background: #fdecea; padding: 12px 18px; display:flex; gap:12px; align-items:center; color:#b71c1c; font-weight:700; }
.cancelIcon { color:#b71c1c; }

/* Styles pour la bannière 'Modifié' */
.modifyBanner {
  background: #eef6ff; /* bleu pâle pour modification */
  padding: 12px 18px;
  display:flex;
  align-items:center;
  gap:12px;
  color: #1a4fb0; /* bleu foncé */
  font-weight:700;
  font-size:16px;
}
.modifyIcon{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:34px;
  height:34px;
  border-radius:50%;
  background: #f0f6ff;
  color: #1a4fb0;
  box-shadow: 0 0 0 6px rgba(26,79,176,0.04);
}

/* Style pour les arrêts supprimés dans la liste: opacité réduite et interdire la mise en avant */
.stopRowSuppressed{
  opacity: 0.6;
}

/* Badge pour nouvelle gare de destination */
.newTerminusBadge{
  margin-left:8px;
  font-size:12px;
  background:#e8f3ff;
  color:#054a9b;
  padding:2px 8px;
  border-radius:12px;
  font-weight:700;
}
